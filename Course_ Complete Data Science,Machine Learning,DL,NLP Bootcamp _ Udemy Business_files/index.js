import{a as Ze}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-26LY2CF5.js";import{a as Ne,b as Ot,c as rr,d as or,e as dr,f as ur,g as pr,h as fr,j as hr,k as Ho,l as br,n as Rt,o as yr,p as wr}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-QDMJ4YXI.js";import{f as Ve,h as mr}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-C3NG2YIA.js";import"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-KX54PEIW.js";import{a as ge,b as Wo,c as Yn,d as Zn,e as je,r as vr,t as Sr}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-H7BBXGCT.js";import{a as nr,d as lr,e as Se}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-QBWXSNF3.js";import{a as on,b as sn,c as an,d as ir,e as sr,g as ar,h as cr,l as ve}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-FDUZ6L3M.js";import{a as Dt,b as Xn,c as Jn,d as Qn,g as er,h as tr,i as gr}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-N4NCLZDA.js";import{a as Fo,b as kn,c as Tn,e as Et,g as be,h as Ct,i as ye}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-4BBG2JFF.js";import{$a as Ln,A as wt,Ab as jn,B as hn,C as vt,D as fe,Db as Vn,E as St,Ea as Pn,Eb as Ge,F as Fe,Fa as X,G as bn,H as xt,I as yn,J as wn,Ja as _t,K as vn,Ka as Tt,L as Sn,La as we,M as ke,Ma as We,N as xn,O as En,Oa as J,P as Cn,Pb as Ye,Qa as Dn,Qb as q,Ra as On,S as In,Sa as Rn,T as An,Ta as He,U as _e,Ua as qe,Wa as Bn,X as _n,Y as K,Z as he,a as zo,ab as Un,b as Ko,bb as $n,c as L,d as B,db as zn,e as g,eb as Kn,f as F,fa as It,fb as Fn,g as ae,gb as Te,h as T,hb as Nt,i as Y,j as rn,k as v,ka as Nn,kb as Wn,l as cn,la as Mn,lb as ce,m as G,mb as Mt,n as dn,o as z,p as Ae,pb as Hn,q as A,r as ln,s as un,sa as At,t as pn,u as mn,ua as kt,ub as oe,v as gn,w as fn,wa as Z,wb as qn,x as N,xa as re,y as yt,yb as Gn,z as ne,zb as Pt}from"./cfe13407a63622fbab919cc3838530dadaccac1e-chunk-PQNI6GZX.js";var Ao=zo((De,lt)=>{g();(function(t,e){"use strict";var n="0.7.33",r="",o="?",i="function",d="undefined",l="object",u="string",f="major",s="model",m="name",c="type",a="vendor",p="version",b="architecture",w="console",h="mobile",y="tablet",k="smarttv",U="wearable",x="embedded",M=350,O="Amazon",P="Apple",W="ASUS",te="BlackBerry",pe="Browser",Oe="Chrome",Bo="Edge",Re="Firefox",Be="Google",Vt="Huawei",ut="LG",pt="Microsoft",Yt="Motorola",Le="Opera",mt="Samsung",Zt="Sharp",Ue="Sony",gt="Xiaomi",ft="Zebra",Xt="Facebook",Lo=function(E,_){var C={};for(var R in E)_[R]&&_[R].length%2===0?C[R]=_[R].concat(E[R]):C[R]=E[R];return C},$e=function(E){for(var _={},C=0;C<E.length;C++)_[E[C].toUpperCase()]=E[C];return _},Jt=function(E,_){return typeof E===u?Ee(_).indexOf(Ee(E))!==-1:!1},Ee=function(E){return E.toLowerCase()},Uo=function(E){return typeof E===u?E.replace(/[^\d\.]/g,r).split(".")[0]:e},ht=function(E,_){if(typeof E===u)return E=E.replace(/^\s\s*/,r),typeof _===d?E:E.substring(0,M)},Ce=function(E,_){for(var C=0,R,I,Ke,D,Ie,j;C<_.length&&!Ie;){var tn=_[C],nn=_[C+1];for(R=I=0;R<tn.length&&!Ie;)if(Ie=tn[R++].exec(E),Ie)for(Ke=0;Ke<nn.length;Ke++)j=Ie[++I],D=nn[Ke],typeof D===l&&D.length>0?D.length===2?typeof D[1]==i?this[D[0]]=D[1].call(this,j):this[D[0]]=D[1]:D.length===3?typeof D[1]===i&&!(D[1].exec&&D[1].test)?this[D[0]]=j?D[1].call(this,j,D[2]):e:this[D[0]]=j?j.replace(D[1],D[2]):e:D.length===4&&(this[D[0]]=j?D[3].call(this,j.replace(D[1],D[2])):e):this[D]=j||e;C+=2}},bt=function(E,_){for(var C in _)if(typeof _[C]===l&&_[C].length>0){for(var R=0;R<_[C].length;R++)if(Jt(_[C][R],E))return C===o?e:C}else if(Jt(_[C],E))return C===o?e:C;return E},$o={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Qt={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},en={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,p],[/opios[\/ ]+([\w\.]+)/i],[p,[m,Le+" Mini"]],[/\bopr\/([\w\.]+)/i],[p,[m,Le]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[m,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[m,"UC"+pe]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[p,[m,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[m,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[m,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+pe],p],[/\bfocus\/([\w\.]+)/i],[p,[m,Re+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[m,Le+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[m,Le+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[m,"MIUI "+pe]],[/fxios\/([-\w\.]+)/i],[p,[m,Re]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+pe]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+pe],p],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[m,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Xt],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[m,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[m,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[m,Oe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,Oe+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[m,"Android "+pe]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[p,bt,$o]],[/(webkit|khtml)\/([\w\.]+)/i],[m,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[m,Re+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[m,p],[/(cobalt)\/([\w\.]+)/i],[m,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,Ee]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,r,Ee]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,Ee]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[a,mt],[c,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[a,mt],[c,h]],[/((ipod|iphone)\d+,\d+)/i],[s,[a,P],[c,h]],[/(ipad\d+,\d+)/i],[s,[a,P],[c,y]],[/\((ip(?:hone|od)[\w ]*);/i],[s,[a,P],[c,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[a,P],[c,y]],[/(macintosh);/i],[s,[a,P]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[a,Vt],[c,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[s,[a,Vt],[c,h]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[a,gt],[c,h]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[a,gt],[c,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[a,"OPPO"],[c,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[a,"Vivo"],[c,h]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[s,[a,"Realme"],[c,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[a,Yt],[c,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[a,Yt],[c,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[a,ut],[c,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[a,ut],[c,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[a,"Lenovo"],[c,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[a,"Nokia"],[c,h]],[/(pixel c)\b/i],[s,[a,Be],[c,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[a,Be],[c,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[a,Ue],[c,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[a,Ue],[c,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[a,"OnePlus"],[c,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[a,O],[c,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[a,O],[c,h]],[/(playbook);[-\w\),; ]+(rim)/i],[s,a,[c,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[a,te],[c,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[a,W],[c,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[a,W],[c,h]],[/(nexus 9)/i],[s,[a,"HTC"],[c,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[a,[s,/_/g," "],[c,h]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[a,"Acer"],[c,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[a,"Meizu"],[c,h]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[a,Zt],[c,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[a,s,[c,h]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[a,s,[c,y]],[/(surface duo)/i],[s,[a,pt],[c,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[a,"Fairphone"],[c,h]],[/(u304aa)/i],[s,[a,"AT&T"],[c,h]],[/\bsie-(\w*)/i],[s,[a,"Siemens"],[c,h]],[/\b(rct\w+) b/i],[s,[a,"RCA"],[c,y]],[/\b(venue[\d ]{2,7}) b/i],[s,[a,"Dell"],[c,y]],[/\b(q(?:mv|ta)\w+) b/i],[s,[a,"Verizon"],[c,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[a,"Barnes & Noble"],[c,y]],[/\b(tm\d{3}\w+) b/i],[s,[a,"NuVision"],[c,y]],[/\b(k88) b/i],[s,[a,"ZTE"],[c,y]],[/\b(nx\d{3}j) b/i],[s,[a,"ZTE"],[c,h]],[/\b(gen\d{3}) b.+49h/i],[s,[a,"Swiss"],[c,h]],[/\b(zur\d{3}) b/i],[s,[a,"Swiss"],[c,y]],[/\b((zeki)?tb.*\b) b/i],[s,[a,"Zeki"],[c,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[a,"Dragon Touch"],s,[c,y]],[/\b(ns-?\w{0,9}) b/i],[s,[a,"Insignia"],[c,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[a,"NextBook"],[c,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[a,"Voice"],s,[c,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[a,"LvTel"],s,[c,h]],[/\b(ph-1) /i],[s,[a,"Essential"],[c,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[a,"Envizen"],[c,y]],[/\b(trio[-\w\. ]+) b/i],[s,[a,"MachSpeed"],[c,y]],[/\btu_(1491) b/i],[s,[a,"Rotor"],[c,y]],[/(shield[\w ]+) b/i],[s,[a,"Nvidia"],[c,y]],[/(sprint) (\w+)/i],[a,s,[c,h]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[a,pt],[c,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[a,ft],[c,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[a,ft],[c,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[a,s,[c,w]],[/droid.+; (shield) bui/i],[s,[a,"Nvidia"],[c,w]],[/(playstation [345portablevi]+)/i],[s,[a,Ue],[c,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[a,pt],[c,w]],[/smart-tv.+(samsung)/i],[a,[c,k]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[a,mt],[c,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[a,ut],[c,k]],[/(apple) ?tv/i],[a,[s,P+" TV"],[c,k]],[/crkey/i],[[s,Oe+"cast"],[a,Be],[c,k]],[/droid.+aft(\w)( bui|\))/i],[s,[a,O],[c,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[s,[a,Zt],[c,k]],[/(bravia[\w ]+)( bui|\))/i],[s,[a,Ue],[c,k]],[/(mitv-\w{5}) bui/i],[s,[a,gt],[c,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[a,ht],[s,ht],[c,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,k]],[/((pebble))app/i],[a,s,[c,U]],[/droid.+; (glass) \d/i],[s,[a,Be],[c,U]],[/droid.+; (wt63?0{2,3})\)/i],[s,[a,ft],[c,U]],[/(quest( 2)?)/i],[s,[a,Xt],[c,U]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[a,[c,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[s,[c,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[c,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[c,h]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[a,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[m,Bo+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[m,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[m,[p,bt,Qt]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,"Windows"],[p,bt,Qt]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,p],[/\(bb(10);/i],[p,[m,te]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[m,Re+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[m,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[m,Oe+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[m,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,p],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[m,p]]},H=function(E,_){if(typeof E===l&&(_=E,E=e),!(this instanceof H))return new H(E,_).getResult();var C=E||(typeof t!==d&&t.navigator&&t.navigator.userAgent?t.navigator.userAgent:r),R=_?Lo(en,_):en;return this.getBrowser=function(){var I={};return I[m]=e,I[p]=e,Ce.call(I,C,R.browser),I.major=Uo(I.version),I},this.getCPU=function(){var I={};return I[b]=e,Ce.call(I,C,R.cpu),I},this.getDevice=function(){var I={};return I[a]=e,I[s]=e,I[c]=e,Ce.call(I,C,R.device),I},this.getEngine=function(){var I={};return I[m]=e,I[p]=e,Ce.call(I,C,R.engine),I},this.getOS=function(){var I={};return I[m]=e,I[p]=e,Ce.call(I,C,R.os),I},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return C},this.setUA=function(I){return C=typeof I===u&&I.length>M?ht(I,M):I,this},this.setUA(C),this};H.VERSION=n,H.BROWSER=$e([m,p,f]),H.CPU=$e([b]),H.DEVICE=$e([s,a,c,w,h,k,y,U,x]),H.ENGINE=H.OS=$e([m,p]),typeof De!==d?(typeof lt!==d&&lt.exports&&(De=lt.exports=H),De.UAParser=H):i==="object"&&null.amd?null(function(){return H}):typeof t!==d&&(t.UAParser=H);var me=typeof t!==d&&(t.jQuery||t.Zepto);if(me&&!me.ua){var ze=new H;me.ua=ze.getResult(),me.ua.get=function(){return ze.getUA()},me.ua.set=function(E){ze.setUA(E);var _=ze.getResult();for(var C in _)me.ua[C]=_[C]}}})(typeof window=="object"?window:De)});g();g();(function(){try{var t=typeof window<"u"||typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new t.Error().stack;e&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[e]="9848d84d-ab36-4c7d-8682-066b0d318824",t._sentryDebugIdIdentifier="sentry-dbid-9848d84d-ab36-4c7d-8682-066b0d318824")}catch(n){}})();g();var Do=L(F()),Oo=L(Fo());g();var tt=L(F());g();var S=L(F());g();if(typeof document<"u"){let t=document.createElement("style"),e=window.engagement,n=e&&e._configuration&&e._configuration.nonce;if(n)t.setAttribute("nonce",n);else{let r=document.querySelector("[nonce]");if(r){let o=r.nonce||r.getAttribute("nonce");o&&t.setAttribute("nonce",o)}}t.appendChild(document.createTextNode(`#engagement-wrapper *,
#engagement-wrapper *:before,
#engagement-wrapper *:after,
.engagement-nudge-modal *,
.engagement-nudge-modal *:before,
.engagement-nudge-modal *:after,
.engagement-nudge-modal-mock *,
.engagement-nudge-modal-mock *:before,
.engagement-nudge-modal-mock *:after {
  box-sizing: border-box;
}

.engagement-modal > .rc-dialog > .rc-dialog-content {
  background-color: transparent;
}

.rc-dialog.amplitude-engagement-modal-body {
  margin-top: 0;
  margin-bottom: 0;
}

.engagement-tooltip {
  z-index: 2147483647 !important; /*make the tooltip the highest possible z index*/
}

/*** Hack: Hide this because it's less flexible (classnames can't be changes)
    Instead we only show its children, by translating its children ***/
.engagement-modal > .rc-dialog > .rc-dialog-content > .rc-dialog-header {
  max-height: 0px !important;
  padding: 0px !important;
}

.engagement-modal > .rc-dialog {
  left: 0px;
  transition: left 0.3s;
}

.engagement-modal > .rc-dialog > .rc-dialog-content > .rc-dialog-body {
  position: relative !important;
}

/* TestMode inline engagement */
.engagement-modal-inline.rc-dialog-wrap {
  position: relative;
  height: 100%;
}

#engagement-toast-container {
  inset: 16px;
  @media (max-width: 400px) {
    inset: 8px;
  }
}

#engagement-toast-responsive-inner-div {
  @media (max-width: 400px) {
    width: 100%;
  }
}


#engagement-container > div {
  height: 100%;
}

#engagement-home > .rc-dialog-root {
  height: 100%;
}

#engagement-wrapper .rc-header-guidance {
  background: rgba(174, 177, 221, 1) !important;
  filter: brightness(135%);
  border-radius: 2px 2px 0px 0px !important;
  border-bottom: 0px !important;
  padding: 8px 30px 2px 30px !important;
  margin: 0px 10px 0px 10px;
  box-shadow: rgba(0, 0, 0, 0.15) 0px 3px 10px !important;
  font-weight: 400;
  text-align: center;
}

@keyframes fontbulger {
  0% {
    font-size: 10px;
  }
  30% {
    font-size: 15px;
  }
  100% {
    font-size: 12px;
  }
}

@keyframes shimmer {
  0% {
    background-position: top left;
  }
  100% {
    background-position: top right;
  }
}

.engagement-category-collapse {
  transform: scale(1, -1);
  transition: 0.3s ease-in;
  cursor: pointer;
}

.engagement-category-expand {
  transition: 0.3s ease-in;
  cursor: pointer;
}

/* Nudges - modal */

.engagement-nudge-modal {
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2147483644 !important;
}

.engagement-nudge-modal-mock {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 0;
  transition: margin-right cubic-bezier(0.78, 0.14, 0.15, 0.86) 0.3s;
  z-index: 2147483644 !important;
}

/* Nudges - media */

.engagement-help-doc-title::before {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(180deg, transparent 66.67%, gray 93.08%);
  content: '';
}

/* Recorder */
#engagement-recorder-mask {
  background: transparent;
}
`)),document.head.appendChild(t)}g();if(typeof document<"u"){let t=document.createElement("style"),e=window.engagement,n=e&&e._configuration&&e._configuration.nonce;if(n)t.setAttribute("nonce",n);else{let r=document.querySelector("[nonce]");if(r){let o=r.nonce||r.getAttribute("nonce");o&&t.setAttribute("nonce",o)}}t.appendChild(document.createTextNode(`/*** Guidance banner styling and animation ***/
@keyframes example {
  from {
    transform: translateY(0px);
  }
  to {
    transform: translateY(-30px);
  }
}

.rc-header-guidance {
  animation: example 0.5s;
  animation-fill-mode: forwards;
}

/*** engagement entry animation ***/
/*** We can't do exit animation because rc-dialog makes display: none ***/
@keyframes onEntry {
  0% {
    opacity: 0.3;
  }
  100% {
    opacity: 1;
  }
}

.engagement-opened {
  animation: onEntry 0.1s;
  animation-fill-mode: forwards;
}

@keyframes onSelect {
  0% {
    transform: translate3d(0px, 0px, 0px);
  }
  50% {
    transform: translate3d(0px, 0px, -0.5px);
  }
  100% {
    transform: translate3d(0px, 0px, 0px);
  }
}

.engagement-selected {
  animation: onSelect 0.4s;
}

@keyframes ScaleEntry {
  from {
    transform: scale(0.8);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

.engagement-scale-entry-animation {
  animation: ScaleEntry 0.3s;
  animation-fill-mode: forwards;
}

@keyframes onEntry {
  0% {
    opacity: 0.3;
  }
  100% {
    opacity: 1;
  }
}

.engagement-shortcut-tooltip {
  opacity: 0;
  animation: tagEntry 0.2s;
  animation-delay: 0.5s;
  animation-fill-mode: forwards;
}

@keyframes tagExit {
  from {
    transform: scale(1);
    opacity: 1;
  }
  to {
    transform: scale(0.8);
    opacity: 0;
  }
}

.engagement-shortcut-tooltip-remove {
  animation: tagExit 0.2s;
  animation-fill-mode: forwards;
}

.engagement-shortcut-tooltip,
.engagement-shortcut-tooltip-remove {
  z-index: 99999999;
  position: absolute;
  padding: 8px 12px;
  background-color: rgba(0, 0, 0, 0.8);
  font-family: proxima-nova, sans-serif;
  color: rgba(255, 255, 255, 0.6);
  border-radius: 4px;
  font-size: 13px;
}

.engagement-shortcut-tooltip-tag {
  margin-left: 10px;
  padding: 2px 5px;
  border-radius: 2px;
  background-color: grey;
}

#engagement-launcher {
  animation: 0.25s ease-out scaleIn;
}

@keyframes scaleIn {
  0% {
    transform: scale(0.06);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes growFromBottom {
  0% {
    transform: scale(1, 0.3);
  }

  100% {
    transform: scale(1, 1);
  }
}
`)),document.head.appendChild(t)}g();var Bt=class{constructor(){B(this,"organization")}getOrganization(){return this.organization}setOrganization(e){this.organization=e}},xr=new Bt;g();var qo=function(e,n,r){for(var o=0,i=0;o=i,i=Fe(),o===38&&i===12&&(n[r]=1),!xt(i);)St();return bn(e,vt)},Go=function(e,n){var r=-1,o=44;do switch(xt(o)){case 0:o===38&&Fe()===12&&(n[r]=1),e[r]+=qo(vt-1,n,r);break;case 2:e[r]+=vn(o);break;case 4:if(o===44){e[++r]=Fe()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=mn(o)}while(o=St());return e},jo=function(e,n){return wn(Go(yn(e),n))},Er=new WeakMap,Vo=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Er.get(r))&&!o){Er.set(e,!0);for(var i=[],d=jo(n,i),l=r.props,u=0,f=0;u<d.length;u++)for(var s=0;s<l.length;s++,f++)e.props[f]=i[u]?d[u].replace(/&\f/g,l[s]):l[s]+" "+d[u]}}},Yo=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Cr(t,e){switch(gn(t,e)){case 5103:return A+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return A+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return A+t+Ae+t+z+t+t;case 6828:case 4268:return A+t+z+t+t;case 6165:return A+t+z+"flex-"+t+t;case 5187:return A+t+N(t,/(\w+).+(:[^]+)/,A+"box-$1$2"+z+"flex-$1$2")+t;case 5443:return A+t+z+"flex-item-"+N(t,/flex-|-self/,"")+t;case 4675:return A+t+z+"flex-line-pack"+N(t,/align-content|flex-|-self/,"")+t;case 5548:return A+t+z+N(t,"shrink","negative")+t;case 5292:return A+t+z+N(t,"basis","preferred-size")+t;case 6060:return A+"box-"+N(t,"-grow","")+A+t+z+N(t,"grow","positive")+t;case 4554:return A+N(t,/([^-])(transform)/g,"$1"+A+"$2")+t;case 6187:return N(N(N(t,/(zoom-|grab)/,A+"$1"),/(image-set)/,A+"$1"),t,"")+t;case 5495:case 3959:return N(t,/(image-set\([^]*)/,A+"$1$`$1");case 4968:return N(N(t,/(.+:)(flex-)?(.*)/,A+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+A+t+t;case 4095:case 3583:case 4068:case 2532:return N(t,/(.+)-inline(.+)/,A+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wt(t)-1-e>6)switch(ne(t,e+1)){case 109:if(ne(t,e+4)!==45)break;case 102:return N(t,/(.+:)(.+)-([^]+)/,"$1"+A+"$2-$3$1"+Ae+(ne(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~yt(t,"stretch")?Cr(N(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ne(t,e+1)!==115)break;case 6444:switch(ne(t,wt(t)-3-(~yt(t,"!important")&&10))){case 107:return N(t,":",":"+A)+t;case 101:return N(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+A+(ne(t,14)===45?"inline-":"")+"box$3$1"+A+"$2$3$1"+z+"$2box$3")+t}break;case 5936:switch(ne(t,e+11)){case 114:return A+t+z+N(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return A+t+z+N(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return A+t+z+N(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return A+t+z+t+t}return t}var Zo=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case un:e.return=Cr(e.value,e.length);break;case pn:return ke([fe(e,{value:N(e.value,"@","@"+A)})],o);case ln:if(e.length)return hn(e.props,function(i){switch(fn(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ke([fe(e,{props:[N(i,/:(read-\w+)/,":"+Ae+"$1")]})],o);case"::placeholder":return ke([fe(e,{props:[N(i,/:(plac\w+)/,":"+A+"input-$1")]}),fe(e,{props:[N(i,/:(plac\w+)/,":"+Ae+"$1")]}),fe(e,{props:[N(i,/:(plac\w+)/,z+"input-$1")]})],o)}return""})}},Xo=[Zo],Ir=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(b){var w=b.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(b),b.setAttribute("data-s",""))})}var o=e.stylisPlugins||Xo,i={},d,l=[];d=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(b){for(var w=b.getAttribute("data-emotion").split(" "),h=1;h<w.length;h++)i[w[h]]=!0;l.push(b)});var u,f=[Vo,Yo];{var s,m=[xn,Cn(function(b){s.insert(b)})],c=En(f.concat(o,m)),a=function(w){return ke(Sn(w),c)};u=function(w,h,y,k){s=y,a(w?w+"{"+h.styles+"}":h.styles),k&&(p.inserted[h.name]=!0)}}var p={key:n,sheet:new dn({key:n,container:d,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:u};return p.sheet.hydrate(l),p};g();var xe=L(F()),Jo=(t=document.body)=>{var o,i;let e=(0,xe.useRef)(null),n=(0,xe.useRef)(null),r=(0,xe.useRef)(null);return(0,xe.useEffect)(()=>()=>{var d,l;(d=n.current)==null||d.disconnect(),(l=e.current)==null||l.remove()},[]),(e.current===null||t!==r.current)&&((o=n.current)==null||o.disconnect(),(i=e.current)==null||i.remove(),r.current=t,e.current=document.createElement("div"),e.current.setAttribute("data-engagement-toplevel-styles",""),e.current.setAttribute("hidden",""),t.prepend(e.current),n.current=new MutationObserver(()=>{e.current&&e.current.querySelectorAll("style[data-emotion]:not([data-s])").forEach(d=>{d.setAttribute("data-s","")})}),n.current.observe(e.current,{childList:!0,subtree:!0})),e.current},Ar=Jo;g();var Me=L(F());var ei=({nudgeActor:t})=>{var f;let e=K(),n=Ve(t,({context:s})=>s.nudge),r=Ve(t,({context:s})=>s.stepIndex),{animStyles:o}=Se(),i=J(n,r);if(!i||!(qe(i)&&i.formFactor.isShowingMask))return null;let{targetElement:d}=dr(e,{step:i}),l=(f=d==null?void 0:d.getBoundingClientRect())!=null?f:new DOMRect,u=d?getComputedStyle(d).borderRadius:"0px";return l.width===0||l.height===0?null:Me.default.createElement("div",{style:{position:"absolute",top:"0",left:"0",...he.getZIndexStyles(i,"mask")}},Me.default.createElement("div",{"data-testid":"engagement-nudge-mask",style:{width:`${document.documentElement.scrollWidth}px`,height:`${document.documentElement.scrollHeight}px`,clipPath:`polygon(0% 0%, 0% 100%,
                ${l.left+window.scrollX}px 100%,
                ${l.left+window.scrollX}px ${l.top+window.scrollY}px,
                ${l.left+window.scrollX+l.width}px ${l.top+window.scrollY}px,
                ${l.left+window.scrollX+l.width}px ${l.top+window.scrollY+l.height}px,
                0% ${l.top+window.scrollY+l.height}px,
                0% 100%, 100% 100%, 100% 0%)`,position:"absolute"}}),Me.default.createElement("div",{"data-testid":"engagement-nudge-mask-inner",style:{pointerEvents:"none",position:"absolute",inset:`${l.top+window.scrollY}px ${l.left+window.scrollX}px`,width:`${l.width}px`,height:`${l.height}px`,padding:"4px",borderRadius:`${u}`,boxShadow:`0 0 0 ${Math.max(document.documentElement.scrollHeight,document.documentElement.scrollWidth)}px var(--background-overlay)`,overflow:"hidden",opacity:o.opacity,transitionProperty:"opacity",transitionDuration:o.transitionDuration,transitionTimingFunction:o.transitionTimingFunction}}))},kr=({nudgesManager:t})=>{let e=K(),n=Ve(t,o=>o.context.activeNudge);if(!n)return null;let r=re(e,n==null?void 0:n.variantId);return r?Me.default.createElement(ei,{nudgeActor:r}):null};g();var _r=t=>{if(t.themeOverride&&t.themeOverride.theme&&t.themeOverride.mode)return{themes:{"guides-surveys":t.themeOverride.theme,assistant:t.themeOverride.theme},mode:t.themeOverride.mode};let e=t.themeMode==="auto"?t.services.getDefaultUIMode():t.themeMode;return{themes:{"guides-surveys":Et(t.themes,"guides-surveys"),assistant:Et(t.themes,"assistant")},mode:e}};g();var V=L(F());g();var Xe=L(F()),ti=()=>{let t=()=>({width:window.innerWidth,height:window.innerHeight}),[e,n]=Xe.useState(t);return Xe.useEffect(()=>{let r=()=>{n(t())};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e},Tr=ti;g();var de=L(F());g();var Ut=L(F());g();var Nr=_e({display:"flex",flexDirection:"column",alignItems:"flex-start",background:"var(--background-primary)",pointerEvents:"all",a:{color:"var(--content-link)",textDecoration:"none","&:hover":{color:"var(--content-link-hover)",textDecoration:"underline"}}}),ni=_e([Nr,{width:"var(--modal-width) !important",borderRadius:"var(--layout-radius-card)",border:"1px solid var(--border-primary)",boxShadow:"var(--layout-shadow) var(--layout-shadow-color)",minHeight:"44px",'& > [tabindex="0"]':{width:"100%"}}]),ri=_e([Nr,{width:"100% !important",height:"100% !important",margin:"0 !important",padding:"0 !important",justifyContent:"space-between !important",border:"none !important",boxShadow:"none !important",'& > [tabindex="0"]':{width:"100%",height:"100%"}}]),oi=_e({width:"unset !important"}),ii=q(gr)`
  z-index: ${he.Z_NUDGE};
`,si=({survey:t,organization:e,isCarousel:n,...r})=>An(ii,{css:[n?ri:ni,t&&oi,r.style].filter(Boolean),...r}),Mr=si;g();var Lt=t=>{switch(t||"center"){case"top-left":return{top:"16px",left:"16px",bottom:"auto",right:"auto",transform:"none"};case"top-center":return{top:"16px",left:"50%",bottom:"auto",right:"auto",transform:"translateX(-50%)"};case"top-right":return{top:"16px",right:"16px",bottom:"auto",left:"auto",transform:"none"};case"bottom-left":return{bottom:"16px",left:"16px",top:"auto",right:"auto",transform:"none"};case"bottom-center":return{bottom:"16px",left:"50%",top:"auto",right:"auto",transform:"translateX(-50%)"};case"bottom-right":return{bottom:"16px",right:"16px",top:"auto",left:"auto",transform:"none"};case"left-center":return{left:"16px",top:"50%",bottom:"auto",right:"auto",transform:"translateY(-50%)"};case"right-center":return{right:"16px",top:"50%",bottom:"auto",left:"auto",transform:"translateY(-50%)"};case"center":default:return{}}};var Pr=({nudge:t,step:e,renderMode:n,handleLinkClick:r,stepIndex:o,actor:i})=>{var h,y;let d=K(),l=be(),{animStyles:u,onExit:f,isAnimatedWidget:s}=Se(),{isMobileDevice:m,isStudioMobilePreview:c,studioMobilePreviewWrapper:a,mobileStyles:p}=je(),b=((h=e.formFactor)==null?void 0:h.canClickOutsideToClose)&&!d.isEditorPreview,w=((y=e.formFactor)==null?void 0:y.position)||"center";return Ut.default.createElement(Mr,{organization:d.organization,survey:!!(e!=null&&e.content.find(k=>k.type==="survey_rating")),isCarousel:t.isCarousel,"data-testid":`engagement-modal-${t.variantId}-${String(e==null?void 0:e.id)}${n===1?"-mock":""}`,"aria-modal":"true","aria-live":"polite",onClose:k=>{We(t)&&(k.type==="keydown"||k.type==="click"&&b)&&f()},classNames:{wrapper:`amplitude-engagement-modal-container engagement-nudge-modal${n===1?"-mock":""} ${l.generatedCSSClassname}`,mask:l.generatedCSSClassname},className:"amplitude-engagement-modal-body",styles:{wrapper:c?{...p.nudges.modal.wrap,...(t.isCarousel||w==="center")&&{width:"100%",height:"100%"},...!t.isCarousel&&w!=="center"&&Lt(w)}:{pointerEvents:"all",...t.isCarousel&&{margin:0,padding:0,width:"100%",height:"100%"},...!t.isCarousel&&w!=="center"&&Lt(w),...d.isEditorPreview&&{marginTop:nr}},mask:{...c?p.nudges.modal.mask:{zIndex:he.Z_EDITOR-2},...s&&{opacity:u.opacity,transitionProperty:"opacity",transitionDuration:u.transitionDuration,transitionTimingFunction:u.transitionTimingFunction},backgroundColor:"var(--background-overlay)"}},maskProps:{"data-amplitude-engagement-modal-overlay":!0},getContainer:c&&a?()=>a:()=>document.getElementById("engagement-wrapper")||document.body,modalRender:()=>Ut.default.createElement(fr,{nudge:t,step:e,renderMode:n,handleLinkClick:r,stepIndex:o,actor:i}),style:{width:e.formFactor.layout==="horizontal"&&!m?"auto !important":void 0,maxWidth:e.formFactor.layout==="horizontal"&&!m?"100%":void 0,...t.isCarousel&&{width:"100% !important",height:"100% !important"},...u},visible:!0,keyboard:!d.isEditorPreview})};var ai=({nudge:t,stepIndex:e,renderMode:n})=>{let{onExit:r}=Se(),o=K(),i=J(t,e),d=Ye(re),l=Ye(oe),u=(m,c)=>{r(()=>l(m,c))},f=n!==1?d(t.variantId):void 0,s=pr(m=>Te.nudge.engaged(t,e,{...f==null?void 0:f.getSnapshot().context,source:{type:"link",url:m},interactionState:X(o,t.variantId)}),()=>u(t,n));return de.default.createElement(mr,{actor:f,step:i},de.default.createElement(ur,null,de.default.createElement(Pr,{nudge:t,step:i,renderMode:n,handleLinkClick:s,actor:f,stepIndex:e})))},ci=t=>{let e=Ye(oe);return de.default.createElement(ye,{nudge:t.nudge},de.default.createElement(lr,{key:`modal-${t.nudge.variantId}-${t.stepIndex}`,widget:"modal",enterDelay:1,isMounted:!0,defaultExitAction:()=>{t.renderMode!==1&&e(t.nudge,t.renderMode)}},de.default.createElement(ai,{...t})))},Dr=ci;g();if(typeof document<"u"){let t=document.createElement("style"),e=window.engagement,n=e&&e._configuration&&e._configuration.nonce;if(n)t.setAttribute("nonce",n);else{let r=document.querySelector("[nonce]");if(r){let o=r.nonce||r.getAttribute("nonce");o&&t.setAttribute("nonce",o)}}t.appendChild(document.createTextNode(`.rc-dialog {
  position: relative;
  width: auto;
  margin: 10px;
}
.rc-dialog-wrap {
  position: fixed;
  overflow: auto;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1050;
  -webkit-overflow-scrolling: touch;
  outline: 0;
}
.rc-dialog-title {
  margin: 0;
  font-size: 14px;
  line-height: 21px;
  font-weight: bold;
}
.rc-dialog-content {
  position: relative;
  background-color: #ffffff;
  border: none;
  border-radius: 6px 6px;
  background-clip: padding-box;
}
.rc-dialog-close {
  cursor: pointer;
  border: 0;
  background: transparent;
  font-size: 21px;
  position: absolute;
  right: 20px;
  top: 12px;
  font-weight: 700;
  line-height: 1;
  color: #000;
  text-shadow: 0 1px 0 #fff;
  filter: alpha(opacity=20);
  opacity: 0.2;
  text-decoration: none;
}
.rc-dialog-close:disabled {
  pointer-events: none;
}
.rc-dialog-close-x:after {
  content: '\xD7';
}
.rc-dialog-close:hover {
  opacity: 1;
  filter: alpha(opacity=100);
  text-decoration: none;
}
.rc-dialog-header {
  padding: 13px 20px 14px 20px;
  border-radius: 5px 5px 0 0;
  background: #fff;
  color: #666;
  border-bottom: 1px solid #e9e9e9;
}
.rc-dialog-body {
  padding: 20px;
}
.rc-dialog-footer {
  border-top: 1px solid #e9e9e9;
  padding: 10px 20px;
  text-align: right;
  border-radius: 0 0 5px 5px;
}
.rc-dialog-zoom-enter,
.rc-dialog-zoom-appear {
  opacity: 0;
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.08, 0.82, 0.17, 1);
  animation-play-state: paused;
}
.rc-dialog-zoom-leave {
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.6, 0.04, 0.98, 0.34);
  animation-play-state: paused;
}
.rc-dialog-zoom-enter.rc-dialog-zoom-enter-active,
.rc-dialog-zoom-appear.rc-dialog-zoom-appear-active {
  animation-name: rcDialogZoomIn;
  animation-play-state: running;
}
.rc-dialog-zoom-leave.rc-dialog-zoom-leave-active {
  animation-name: rcDialogZoomOut;
  animation-play-state: running;
}
@keyframes rcDialogZoomIn {
  0% {
    opacity: 0;
    transform: scale(0, 0);
  }
  100% {
    opacity: 1;
    transform: scale(1, 1);
  }
}
@keyframes rcDialogZoomOut {
  0% {
    transform: scale(1, 1);
  }
  100% {
    opacity: 0;
    transform: scale(0, 0);
  }
}
@media (min-width: 768px) {
  .rc-dialog {
    width: 600px;
    margin: 30px auto;
  }
}
.rc-dialog-mask {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  background-color: #373737;
  background-color: rgba(55, 55, 55, 0.6);
  height: 100%;
  filter: alpha(opacity=50);
  z-index: 1050;
}
.rc-dialog-mask-hidden {
  display: none;
}
.rc-dialog-fade-enter,
.rc-dialog-fade-appear {
  opacity: 0;
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.55, 0, 0.55, 0.2);
  animation-play-state: paused;
}
.rc-dialog-fade-leave {
  animation-duration: 0.3s;
  animation-fill-mode: both;
  animation-timing-function: cubic-bezier(0.55, 0, 0.55, 0.2);
  animation-play-state: paused;
}
.rc-dialog-fade-enter.rc-dialog-fade-enter-active,
.rc-dialog-fade-appear.rc-dialog-fade-appear-active {
  animation-name: rcDialogFadeIn;
  animation-play-state: running;
}
.rc-dialog-fade-leave.rc-dialog-fade-leave-active {
  animation-name: rcDialogFadeOut;
  animation-play-state: running;
}
@keyframes rcDialogFadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
@keyframes rcDialogFadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}
`)),document.head.appendChild(t)}var di=ge(()=>import("./cfe13407a63622fbab919cc3838530dadaccac1e-ToolBar-33WYTGSX.js"),"DebugToolBar"),li=ge(()=>import("./cfe13407a63622fbab919cc3838530dadaccac1e-Recorder-TMMWQOXZ.js"),"RecorderToolBar"),ui=650,pi=()=>{let{currentModalNudge:t,nudgeDebugToolBar:e,nudgeRecorderToolBar:n}=K(),r=Tr().width,o=e.visible&&r>ui,i=n.visible;return V.default.createElement("div",null,V.default.createElement("div",{id:"engagement-nudges-rc-tooltip-container"}),t&&V.default.createElement(Dr,{nudge:t.nudge,stepIndex:t.stepIndex,renderMode:t.renderMode}),o&&V.default.createElement(V.default.Suspense,{fallback:null},V.default.createElement(di,null)),i&&V.default.createElement(V.default.Suspense,{fallback:null},V.default.createElement(li,null)))},Or=pi;g();var Q=L(F()),Qe=L(F());var ie={state:{},subscribers:[],subscribe:t=>(ie.subscribers.push(t),()=>{ie.subscribers=ie.subscribers.filter(e=>e!==t)})},mi=(t,e)=>{switch(e.type){case"SHOW":return{...t,[e.id]:e.payload};case"HIDE":{let n={...t};return delete n[e.id],n}case"HIDE_ALL_MATCHING_PATTERN":if(e.idPattern){let n={...t};for(let r in n)r.match(e.idPattern)&&delete n[r];return n}return{};default:return t}},$t=t=>{let e=mi(ie.state,t);ie.state=e,ie.subscribers.forEach(n=>n(e))},Rr=(t,e)=>{$t({type:"SHOW",id:t,payload:e})},Br=t=>{$t({type:"HIDE_ALL_MATCHING_PATTERN",idPattern:t})},zt=t=>{let e=document.querySelector(`[data-spacer-for="${t}"]`);e&&e.remove(),$t({type:"HIDE",id:t})},Lr=({children:t})=>{let{isEditorPreview:e}=K(),[n,r]=(0,Qe.useState)(ie.state);return(0,Qe.useEffect)(()=>ie.subscribe(r),[]),Q.default.createElement(Q.default.Fragment,null,t,Q.default.createElement("div",{id:"engagement-nudges-banner-sticky-container",style:{width:"100%",top:"0px",left:0,position:"fixed",pointerEvents:"none",height:"100%"}},Object.entries(n).filter(([,o])=>o.sticky).map(([o,i])=>Q.default.createElement("div",{key:o,id:o},i.element))),Q.default.createElement("div",{id:"engagement-nudges-banner-inline-container-top",style:{width:"100%",position:"absolute",top:"0",left:0,pointerEvents:"none"}},Object.entries(n).filter(([,o])=>!o.sticky&&o.position==="top").map(([o,i])=>Q.default.createElement("div",{key:o,id:o},i.element))),Q.default.createElement("div",{id:"engagement-nudges-banner-inline-container-bottom",style:{width:"100%",position:e?void 0:"relative",pointerEvents:"none"}},Object.entries(n).filter(([,o])=>!o.sticky&&o.position==="bottom").map(([o,i])=>Q.default.createElement("div",{key:o,id:o},i.element))))};g();var zr=L(Ho()),le=L(F());g();var $=L(F());var gi=q.div`
  height: ${Dt}px;
  position: relative;
  z-index: 50;

  @media screen and (max-height: 820px) {
    transform: scale(0.9);
  }

  @media screen and (max-height: 720px) {
    transform: scale(0.8);
  }

  @media screen and (max-height: 620px) {
    transform: scale(0.7);
  }

  @media screen and (max-height: 560px) {
    transform: scale(0.6);
  }

  @media screen and (max-height: 500px) {
    transform: scale(0.5);
  }

  @media screen and (max-height: 420px) {
    transform: scale(0.4);
  }
`,fi=q.div`
  width: ${Xn}px;
  height: ${Dt}px;
  position: relative;
  border-radius: 56px;
  box-shadow: 0px 0px 0px 7.5px #7d7e7d;
  border: 8px solid #000;
  background: linear-gradient(165deg, white, #ebf0ff 45%, #ebf0ff 55%, white);
  outline: 6px solid #2c2c2b;
  padding-top: 60px;
  padding-bottom: 34px;
  overflow: hidden;

  @media screen and (max-width: 670px) {
    height: 790px;
    width: 400px;
  }

  @media screen and (max-width: 580px) {
    height: 720px;
    width: 360px;
  }

  @media screen and (max-width: 480px) {
    height: 650px;
    width: 320px;
  }

  @media screen and (max-width: 400px) {
    height: 580px;
    width: 280px;
  }

  #engagement-nudge-container {
    overflow: auto;
  }
`,hi=q.div`
  height: 100%;
  width: 100%;
  position: relative;
`,bi=q.div`
  position: absolute;
  width: 100%;
  height: 60px;
  top: 0px;
  display: flex;
  justify-content: center;
  padding-top: 12px;
`,yi=q.div`
  height: 37px;
  width: 126px;
  border-radius: 24px;
  background-color: #000000;
  transition: height 0.5s cubic-bezier(0.075, 0.82, 0.165, 1), width 0.5s cubic-bezier(0.075, 0.82, 0.165, 1);

  &:hover {
    height: 45px;
    width: 145px;
  }
`,wi=q.div`
  position: absolute;
  width: 100%;
  height: 34px;
  bottom: 0px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding-bottom: 8px;
`,vi=q.div`
  height: 5px;
  width: 154px;
  border-radius: 24px;
  background-color: #000000;
`,Si=q.div`
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0px;
  bottom: 0px;
`,Ur=q.div`
  position: absolute;
  top: 120px;
  display: flex;
  flex-direction: column;

  &.left {
    left: -12px;
  }

  &.right {
    right: -12px;
    top: 220px;
  }
`,et=q.span`
  background-color: #1d1e1f;
  display: inline-block;
  width: 5px;
  min-height: 62px;
  border-radius: 2px;

  &.power {
    height: 102px;
  }

  &.volume-up {
    margin-top: 29px;
  }
  &.volume-down {
    margin-top: 16px;
  }

  &.lock {
    min-height: 32px;
  }
`,xi=()=>$.default.createElement(Si,null,$.default.createElement(Ur,{className:"left"},$.default.createElement(et,{className:"lock"}),$.default.createElement(et,{className:"volume-up"}),$.default.createElement(et,{className:"volume-down"})),$.default.createElement(Ur,{className:"right"},$.default.createElement(et,{className:"power"}))),Ei=()=>$.default.createElement(bi,null,$.default.createElement(yi,null)),$r=({style:t,children:e})=>{let{isMobileDevice:n,isMobileNativePreview:r}=je();return $.default.createElement(gi,{style:t,"data-testid":"mobile-preview-device"},$.default.createElement(xi,null),$.default.createElement(fi,{isMobileWeb:n&&!r},$.default.createElement(Ei,null),$.default.createElement(hi,{id:"engagement-mobile-preview-wrapper"},$.default.createElement("div",{id:"engagement-mobile-nudge-mock-pin"}),e),$.default.createElement(wi,null,$.default.createElement(vi,null))))};var Ci=({children:t})=>{let e=le.default.useRef(null),{widgetTableauSelection:n,editorPreviewDevice:r,isAssistantPreview:o}=K(),{mode:i}=be(),d=le.default.useCallback(f=>{if(!f){e.current&&(e.current.dispose(),e.current=null);return}if(e.current=(0,zr.default)(f,{maxZoom:1,minZoom:1,initialZoom:1,zoomDoubleClickSpeed:1,smoothScroll:!1,filterKey:function(){return!0}}),e.current.on("pan",function(){document.body.style.cursor="grab",f.style.pointerEvents="none"}),e.current.on("panend",function(){document.body.style.cursor="auto",f.style.removeProperty("pointer-events")}),!!f.children[0])return f.addEventListener("mousedown",l),f.addEventListener("wheel",u),()=>{f.removeEventListener("mousedown",l),f.removeEventListener("wheel",u)}},[n]),l=f=>{var c,a;let s=f.target;(s==null?void 0:s.id)==="panzoom-container"?(c=e.current)==null||c.resume():(a=e.current)==null||a.pause()},u=f=>{var c,a;let s=f.target;(s==null?void 0:s.id)==="panzoom-container"?(c=e.current)==null||c.resume():(a=e.current)==null||a.pause()};return le.default.createElement("div",{style:{position:"absolute",inset:0,overflow:"clip",backgroundColor:o?"var(--monochrome-minus-4)":i==="lightMode"?"#F9F9F9":"#3F424A",backgroundImage:o?void 0:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABZSURBVHgB7dG7DYBADANQJxexAiXSTXw9uyExBih34SOxQhr83Li2ASIiIiIiIvo7QbLW1jms1zijq9puSDaGLxhhuBPaqyKZTFK+/q6AZOJlg8shqv5ccAGZWRnaKiSy9QAAAABJRU5ErkJggg==)"}},le.default.createElement("div",{id:"panzoom-container",style:{width:"100%",height:"100%"},ref:d},t,le.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}},le.default.createElement($r,{style:{visibility:r.startsWith("mobile")?"visible":"hidden"}}))))},Kr=Ci;g();var Fr=L(F());var ue=class extends Fr.default.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){var r;(r=G())==null||r.withScope(o=>{var i;o.setContext("featureError",{featureName:this.props.featureName,componentStack:n.componentStack,errorName:e.name,errorMessage:e.message}),o.setTag("feature",this.props.featureName),(i=G())==null||i.captureException(e)})}render(){return this.state.hasError?null:this.props.children}};var Ai=ge(()=>import("./cfe13407a63622fbab919cc3838530dadaccac1e-WidgetTableau-ODD7BCHP.js"),"WidgetTableau"),ki=ge(()=>import("./cfe13407a63622fbab919cc3838530dadaccac1e-ResourceCenterRoot-475VES54.js"),"ResourceCenterRoot"),_i=()=>{let t=K(),{generatedCSSClassname:e}=be(),n=()=>S.default.createElement(ue,{featureName:"Nudges"},S.default.createElement(Or,null),t.nudgesManager&&S.default.createElement(kr,{nudgesManager:t.nudgesManager}),S.default.createElement(or,null),S.default.createElement("div",{id:"engagement-tooltip-container-portal"}),S.default.createElement(Lr,null)),r=()=>S.default.createElement(ue,{featureName:"Checklists"},S.default.createElement(hr,null)),o=i=>{var d,l,u;return t.resourceCenter?S.default.createElement(ue,{featureName:"ResourceCenter"},S.default.createElement(S.Suspense,{fallback:null},S.default.createElement(ki,{isEnabled:!!t.resourceCenter.key&&!!((l=(d=t.decide)==null?void 0:d[t.resourceCenter.key])!=null&&l.value)&&(!!t.resourceCenter.chatEnabled||((u=t.resourceCenter.resourceCenterEnabled)!=null?u:!0)),isPreviewPane:i,isVisible:t.resourceCenter.visible,launcher:t.resourceCenter.desktopLauncher}))):null};return S.default.createElement("div",{className:e,id:"engagement-theme-root",dir:"ltr"},t.showWidgetTableau?S.default.createElement(ue,{featureName:"WidgetTableau"},S.default.createElement(S.Suspense,{fallback:null},S.default.createElement(Ai,null))):t.isEditorPreview?S.default.createElement(Kr,null,r(),n(),o(!0)):S.default.createElement(S.default.Fragment,null,r(),n(),o(!1)))},Ti=({children:t})=>{var u,f,s,m,c;let e=K(),{organization:n}=e,r=(0,S.useRef)(!!e.user),o=document.getElementById("engagement-wrapper"),i=Ar(o!=null?o:document.head),d=(0,S.useMemo)(()=>{var p,b,w;let a=ae();return Ir({key:"engagement-toplevel",container:i,speedy:!((b=(p=a[T])==null?void 0:p.options)!=null&&b.renderCssInDom),nonce:(w=a[T])==null?void 0:w.nonce,stylisPlugins:[kn]})},[i]);(0,S.useEffect)(()=>{xr.setOrganization(n)},[n]),S.default.useEffect(()=>{e.user&&(e.services.postMessageToDashboard("ENGAGEMENT_BOOTED"),r.current||(r.current=!0))},[(u=e.user)==null?void 0:u.device_id,(f=e.user)==null?void 0:f.user_id,n]),S.default.useEffect(()=>{let a=setTimeout(()=>{r.current||v.warn("\u{1F44B} Guides and Surveys are almost ready. You just need to call `boot()` to make them available in your app.")},15e3);return()=>clearTimeout(a)},[]);let l=(c=(s=e.user)==null?void 0:s.user_id)!=null?c:(m=e.user)==null?void 0:m.device_id;return S.default.createElement(S.default.Fragment,null,S.default.createElement(In,{value:d},l?S.default.createElement(_i,{key:l}):null,t))},Ni=t=>{let e=K(),n=_r(e),r={container:document.getElementById("engagement-container"),root:document};return S.default.createElement(Tn.Provider,{value:r},S.default.createElement(Ct,{theme:n.themes["guides-surveys"],mode:n.mode},S.default.createElement(Ct,{theme:n.themes.assistant,mode:n.mode},S.default.createElement(Ti,{...t}))))},Wr=Ni;var Hr=t=>tt.default.createElement(an,null,tt.default.createElement(cn,{store:t.store},tt.default.createElement(Wr,null,t.children)));g();g();var nt=(t,e)=>{let n={};return Object.keys(e).forEach(r=>{n[r]=e[r].bind(null,t)}),n};var to=L(Wo());var Kt={};Ko(Kt,{previewAutopilotKeywords:()=>Vr,previewContentItem:()=>Yr,previewRecSet:()=>Gr,previewResourceCenter:()=>jr,setCurrentChatSession:()=>Xr,setInitialPage:()=>Zr,showResourceCenter:()=>qr});g();g();var qr=(t,e)=>{t.services.showResourceCenter(t,e)},Gr=(t,e)=>{t.services.previewRecSet(t,e)},jr=(t,e,n)=>{t.services.previewResourceCenter(t,e,n)},Vr=(t,e)=>{t.services.previewAutopilotKeywords(t,e)},Yr=(t,e)=>{t.services.setCurrentContentId(t,e)},Zr=(t,e)=>{t.resourceCenter.initialPage=e},Xr=(t,e,n,r=!1)=>{t.resourceCenter.currentChatSession={sessionId:e,messages:n,isReviewMode:r}};g();var Mi=t=>{var e,n,r,o;return typeof window>"u"||typeof document>"u"?t:{...t,event_properties:{...t.event_properties,"[Guides-Surveys] Page":{domain:(e=window.location)==null?void 0:e.hostname,hash:(n=window.location)==null?void 0:n.hash,path:(r=window.location)==null?void 0:r.pathname,query:(o=window.location)==null?void 0:o.search,title:document.title}}}},Pi=t=>({...t,event_properties:{...t.event_properties,"[Guides-Surveys] Version":"1"}}),Di=t=>(t=Pi(t),t=Mi(t),t),rt=class{constructor(e){B(this,"hasBooted",!1);B(this,"integrations");this.integrations=e}trackEvent(e,n={}){this.track(e,n)}track(e,n={}){var o,i;let r={event_type:e,event_properties:n};if(!this.hasBooted){v.warn("Events cannot be tracked before `boot` is called");return}try{let d=Di(r);v.debug("Tracking event",JSON.stringify(d,null,2));try{this.integrations().forEach(l=>{var u;(u=l.track)==null||u.call(l,{event_type:d.event_type,event_properties:d.event_properties})})}catch(l){(o=G())==null||o.captureException(l)}}catch(d){v.error("Unexpected error logging event; ignoring",{error:d}),(i=G())==null||i.captureException(d)}}setBootStatus(e){this.hasBooted=e}};g();var Oi=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Ri(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),Ri=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},Bi=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(n){e(n)}),this.queue=[])},t}(),se=function(){return se=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},se.apply(this,arguments)};function ot(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],d;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(l){d={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(d)throw d.error}}return i}var it=function(t,e){var n,r,o=["string","number","boolean","undefined"],i=typeof t,d=typeof e;if(i!==d)return!1;try{for(var l=ot(o),u=l.next();!u.done;u=l.next()){var f=u.value;if(f===i)return t===e}}catch(w){n={error:w}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var s=Array.isArray(t),m=Array.isArray(e);if(s!==m)return!1;if(s&&m){for(var c=0;c<t.length;c++)if(!it(t[c],e[c]))return!1}else{var a=Object.keys(t).sort(),p=Object.keys(e).sort();if(!it(a,p))return!1;var b=!0;return Object.keys(t).forEach(function(w){it(t[w],e[w])||(b=!1)}),b}return!0},Li="$set",Ui="$unset",$i="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r});var zi=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,n=se({},this.identity.userProperties),r=se(se({},this.identity),{userProperties:n});return{setUserId:function(o){return r.userId=o,this},setDeviceId:function(o){return r.deviceId=o,this},setUserProperties:function(o){return r.userProperties=o,this},setOptOut:function(o){return r.optOut=o,this},updateUserProperties:function(o){var i,d,l,u,f,s,m=r.userProperties||{};try{for(var c=ot(Object.entries(o)),a=c.next();!a.done;a=c.next()){var p=Jr(a.value,2),b=p[0],w=p[1];switch(b){case Li:try{for(var h=(l=void 0,ot(Object.entries(w))),y=h.next();!y.done;y=h.next()){var k=Jr(y.value,2),U=k[0],x=k[1];m[U]=x}}catch(P){l={error:P}}finally{try{y&&!y.done&&(u=h.return)&&u.call(h)}finally{if(l)throw l.error}}break;case Ui:try{for(var M=(f=void 0,ot(Object.keys(w))),O=M.next();!O.done;O=M.next()){var U=O.value;delete m[U]}}catch(P){f={error:P}}finally{try{O&&!O.done&&(s=M.return)&&s.call(M)}finally{if(f)throw f.error}}break;case $i:m={};break}}}catch(P){i={error:P}}finally{try{a&&!a.done&&(d=c.return)&&d.call(c)}finally{if(i)throw i.error}}return r.userProperties=m,this},commit:function(){return e.setIdentity(r),this}}},t.prototype.getIdentity=function(){return se({},this.identity)},t.prototype.setIdentity=function(e){var n=se({},this.identity);this.identity=se({},e),it(n,this.identity)||this.listeners.forEach(function(r){r(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:self,st=function(){function t(){this.identityStore=new zi,this.eventBridge=new Bi,this.applicationContextProvider=new Oi}return t.getInstance=function(e){return Pe.analyticsConnectorInstances||(Pe.analyticsConnectorInstances={}),Pe.analyticsConnectorInstances[e]||(Pe.analyticsConnectorInstances[e]=new t),Pe.analyticsConnectorInstances[e]},t}();g();var at=["boot"],Qr=["boot"],Ft="$default_instance";function eo(t){var o,i,d,l,u,f,s,m,c;let e=typeof window<"u"?window.engagement:void 0,n={_q:(o=e==null?void 0:e._q)!=null?o:[],_configuration:{apiKey:(d=(i=e==null?void 0:e._configuration)==null?void 0:i.apiKey)!=null?d:"",serverUrl:(l=e==null?void 0:e._configuration)==null?void 0:l.serverUrl,chatUrl:(u=e==null?void 0:e._configuration)==null?void 0:u.chatUrl,mediaUrl:(f=e==null?void 0:e._configuration)==null?void 0:f.mediaUrl,serverZone:(m=(s=e==null?void 0:e._configuration)==null?void 0:s.serverZone)!=null?m:"US",options:{...(c=e==null?void 0:e._configuration)==null?void 0:c.options}},_sentry:void 0,init(a,p){var k,U,x;if(n._configuration.apiKey){console.log("Engagement SDK has already been initialized. Ignoring additional init call.");return}n._configuration={...n._configuration,...p,apiKey:a,options:{splitting:!0,...n._configuration.options,...p==null?void 0:p.options}},(U=(k=n._configuration)==null?void 0:k.options)!=null&&U.logger&&n._configuration.options.logger.enable((x=n._configuration.options.logLevel)!=null?x:2);let b;if(p!=null&&p.cdnUrl)n._configuration.options.splitting?b=`${p.cdnUrl}/engagement-browser/prod/split/index.js`:b=p.cdnUrl+"/engagement-browser/prod/index.min.js.gz";else{let M=n._configuration.serverZone==="EU"?"https://cdn.eu.amplitude.com":"https://cdn.amplitude.com";n._configuration.options.splitting?b=`${M}/engagement-browser/prod/split/index.js`:b=`${M}/engagement-browser/prod/index.min.js.gz`}let w=null,h=()=>{if(w&&(clearTimeout(w),w=null),n._q&&n._q.length>0)for(console.warn(`Engagement SDK failed to load within ${y}ms. Resolving pending calls gracefully.`);n._q.length>0;){let M=n._q.shift();if(!M)continue;let O=M[0],P=at.includes(O);if(console.warn(`Engagement SDK method '${O}' still in queue (isAsyncMethod=${P}); attempting to resolve as no-op.`),P&&M[1]instanceof Function&&M[2]instanceof Function){let W=M[1];console.warn(`Engagement SDK method '${O}' resolved as no-op due to script loading failure`),W(void 0)}}};t(b,n._configuration.options.splitting?"module":void 0,p==null?void 0:p.nonce,h);let y=1e4;w=setTimeout(()=>{h()},y)},plugin(a){let p=n.init;return{name:"@amplitude/engagement-browser",type:"enrichment",async setup(b,w){var U;let h=(U=b.instanceName)!=null?U:Ft,y=st.getInstance(h).identityStore;p(b.apiKey,{serverZone:b.serverZone,...a,options:{logLevel:b.logLevel,logger:b.loggerProvider,...a==null?void 0:a.options}});let k=[{track:x=>{w.track(x)}}];await window.engagement.boot({user:()=>{let x=y.getIdentity();return{user_id:w.getUserId(),device_id:w.getDeviceId(),user_properties:x.userProperties,getSessionId:w.getSessionId}},integrations:k}),y.addIdentityListener(x=>{var M,O,P,W;if(!((M=window.engagement)!=null&&M._.user)||!((O=window.engagement)!=null&&O._analytics.hasBooted)){console.warn("Engagement SDK not booted. Ignoring identity change.");return}((W=(P=window.engagement)==null?void 0:P._.user)==null?void 0:W.user_id)!==x.userId?(window.engagement.shutdown(),window.engagement.boot({user:()=>{let te=y.getIdentity();return{user_id:w.getUserId(),device_id:w.getDeviceId(),user_properties:te.userProperties,getSessionId:w.getSessionId}},integrations:k})):window.engagement._setUserProperties(x.userProperties)})},async execute(b){return window.engagement.forwardEvent(b),b}}}},r=n;return new Proxy(n,{get:function(a,p){if(p in r)return r[p];if(p!=="then")return p==="gs"||p==="rc"?new Proxy({},{get:function(b,w){return function(){let h=Array.from(arguments),y=`${p}.${w}`;h.unshift(y),n._q.push(h)}}}):at.includes(p)?function(){let b=Array.prototype.slice.call(arguments);return new Promise((w,h)=>{b.unshift(p,w,h),n._q.push(b)})}:function(){let b=Array.prototype.slice.call(arguments);b.unshift(p),n._q.push(b)}}})}var Ki=["_reloadOrganization","_reloadNudges","_reloadThemes"],Fi={},ct=class{constructor(e,n){B(this,"_");B(this,"nudgeActions");B(this,"resourceCenterActions");B(this,"globalActions");B(this,"_analytics",new rt(()=>this._.integrations));B(this,"_configuration",{serverZone:"US",serverUrl:void 0,mediaUrl:void 0,apiKey:"",options:{...Fi}});B(this,"_initStarted",!1);B(this,"_isProxy",!1);B(this,"_fingerprint");B(this,"_sentry");B(this,"_debouncedDecide");B(this,"_autoRefreshTimer",null);B(this,"transformForHeadless",e=>e.map(n=>{var o,i,d,l,u,f,s,m,c,a,p;let r=JSON.parse(JSON.stringify(n));return(o=r.lifecycleConfig)!=null&&o.conditions&&delete r.lifecycleConfig.conditions,(i=r.pageTargeting)!=null&&i.conditions&&delete r.pageTargeting.conditions,(d=r.temporarilyHideTargeting)!=null&&d.conditions&&delete r.temporarilyHideTargeting.conditions,(u=(l=r.lifeCycleState)==null?void 0:l.checks)!=null&&u.sessionProperties&&delete r.lifeCycleState.checks.sessionProperties,(a=(c=(m=(s=(f=r.lifeCycleState)==null?void 0:f.checks)==null?void 0:s.limits)==null?void 0:m.detail)==null?void 0:c.limits)!=null&&a.conditions&&delete r.lifeCycleState.checks.limits.detail.limits.conditions,((p=r.lifeCycleState)==null?void 0:p.willRenderIfTriggered)!==void 0&&(r.lifeCycleState.passesAllChecks=r.lifeCycleState.willRenderIfTriggered,delete r.lifeCycleState.willRenderIfTriggered),r}));B(this,"gs",{reset:(e,n)=>{let r=Tt(this._,e);if(!r){v.warn(`gs.reset: Guide or survey with flagKey: ${e} not found`);return}this.nudgeActions.resetNudge(r==null?void 0:r.variantId,{step:n})},getAllGuidesAndSurveys:(e,n=[])=>{var i;let r=Z(this._);if(!r)return[];let o=[];for(let d of r.values()){let l=d.getSnapshot().context.nudge,u=X(this._,l.variantId),f=d.getSnapshot().matches({Step:"Render Loop"}),s=!!(u!=null&&u.activelifeCycleUuid),m=jn(this._,l,n),c={activelifeCycleUuid:(u==null?void 0:u.activelifeCycleUuid)||"",currentStep:(u==null?void 0:u.currentStep)||0,isCompleted:(u==null?void 0:u.isCompleted)||!1,isDismissed:(u==null?void 0:u.isDismissed)||!1,isChecklistExpanded:(i=u==null?void 0:u.isChecklistExpanded)!=null?i:!0,steps:(u==null?void 0:u.steps)||{},shouldShow:f||s,checks:(m==null?void 0:m.checks)||{},willRenderIfTriggered:(m==null?void 0:m.willRenderIfTriggered)||!1};e!=null&&e.onlyEligible&&!c.willRenderIfTriggered||e!=null&&e.variantIds&&!e.variantIds.includes(l.variantId)||o.push({...l,lifeCycleState:c})}return this.transformForHeadless(o)},getPreviewGuideOrSurvey:async e=>{var i,d;let n=(i=ae())==null?void 0:i[T],r=await Wn(n==null?void 0:n.apiKey);r!=null&&r.nudges&&await((d=ae())==null?void 0:d._reloadNudges(r));let o=this.gs.getAllGuidesAndSurveys({variantIds:[e]},["userTargeting"])[0];return o.lifeCycleState.checks.userTargeting={result:"PASS",explanation:"User targeting always passes in preview mode",detail:{userTargeting:o.flagKey}},o.lifeCycleState.willRenderIfTriggered=Object.values(o.lifeCycleState.checks).every(({result:l})=>l==="PASS"),o},list:()=>{let e=[],n=Z(this._);if(!n)return e;for(let r of n.values()){let o=r.getSnapshot().context.nudge,i=X(this._,o.variantId),d=r.getSnapshot().matches({Step:"Render Loop"});!(i!=null&&i.activelifeCycleUuid)&&!d||e.push({id:o.variantId,step:i==null?void 0:i.currentStep,title:o.title,status:d?"visible":"active",key:o.flagKey})}return e},show:(e,n=0)=>{let r=Tt(this._,e);r?(this.nudgeActions.closeAllNudgeMocks(),this.nudgeActions.forceTriggerSingleNudge(r,{source:{type:"sdk"},overrides:{stepIndex:n}})):v.error(`triggerNudge: Nudge with key: ${e} not found`)},closeAll:()=>{var e;(e=Z(this._))==null||e.forEach(n=>{n==null||n.send({type:"DISMISS"})})}});B(this,"rc",{open:()=>{this.resourceCenterActions.showResourceCenter(!0)},close:()=>{this.resourceCenterActions.showResourceCenter(!1)},toggle:()=>{this.resourceCenterActions.showResourceCenter(!this._.resourceCenter.visible)}});var r;this._=e,this.nudgeActions=nt(e,Ge),this.resourceCenterActions=nt(e,Kt),this.globalActions=nt(e,Kn),this._configuration={...this._configuration,...n,options:{...this._configuration.options,...n.options}},this._configuration.options.logger&&this._configuration.options.logger.enable((r=this._configuration.options.logLevel)!=null?r:2),this._debouncedDecide=(0,to.default)(()=>{this.decide()},1e4)}init(e,n){var r;if(this._configuration.apiKey){v.warn("Engagement SDK has already been initialized. Ignoring additional init call.");return}this._configuration={...this._configuration,apiKey:e,...n,options:{...this._configuration.options,...n==null?void 0:n.options}},this._configuration.options.logger&&this._configuration.options.logger.enable((r=this._configuration.options.logLevel)!=null?r:2)}plugin(e){return{name:"@amplitude/engagement-browser",type:"enrichment",setup:async(o,i)=>{var u;let d=(u=o.instanceName)!=null?u:Ft,l=st.getInstance(d).identityStore;await this.boot({user:()=>{let f=l.getIdentity();return{user_id:i.getUserId(),device_id:i.getDeviceId(),user_properties:f.userProperties,getSessionId:i.getSessionId}},integrations:[{track:f=>{i.track(f)}}]}),l.addIdentityListener(f=>{this._setUserProperties(f.userProperties)})},execute:async o=>(this.forwardEvent(o),o)}}setRouter(e){this.globalActions.addCallbacks({"engagement-router":e})}async updateLanguage(e){var o;this._configuration&&(this._configuration.locale=e);let r=(await ce(this._configuration.apiKey)).nudges;(o=Z(this._))==null||o.forEach(i=>{let d=r.find(l=>l.variantId===i.getSnapshot().context.nudge.variantId);d&&(i==null||i.send({type:"REFRESH_NUDGE",nudge:d}))})}async decide(){if(!this._.user){v.error("User must be set before calling decide");return}if(!this._configuration.apiKey){v.error("API key must be set before calling decide");return}return this._.decide=await Fn.decide(this._configuration.apiKey,this._.user,this._.isEditorPreview),this._.decide}shutdown(){this._analytics.setBootStatus(!1),this._clearAutoRefreshTimer(),this._.integrations=[],this._.decide=void 0,this._.user=void 0,this._.endUserStore.reset()}setAutoRefreshInterval(e){if(this._clearAutoRefreshTimer(),e&&e>=60){let n=e*1e3,r=()=>{this._autoRefreshTimer=setTimeout(async()=>{v.log("Auto-refreshing due to timeout"),await this.refresh(),r()},n)};r(),v.debug(`Auto-refresh interval set to ${e} seconds`)}else e!==void 0&&e<60&&v.warn("Auto-refresh interval must be greater or equal to 60 seconds - auto-refresh disabled")}_clearAutoRefreshTimer(){this._autoRefreshTimer&&(clearTimeout(this._autoRefreshTimer),this._autoRefreshTimer=null)}async refresh(){let e=this.gs.list().filter(n=>n.status==="visible");if(e.length>0){v.debug("Skipping refresh because guides or surveys are currently visible and we don't want to close them",{visibleNudges:e.map(n=>({id:n.id,key:n.key}))});return}await this.decide(),await this._.endUserStore.fetchData(),await this._reload(),this.nudgeActions.sendConstantTriggers()}async boot(e){var r,o,i,d,l;if(this._.user){v.warn("User already booted, ignoring additional boot call. Call shutdown first if you want to boot a different user.");return}let n;if(typeof e.user=="function")try{n=e.user()}catch(u){v.error("Failed to get user from provider function",u)}else typeof e=="string"?n={user_id:e}:typeof e.user=="string"?n={user_id:e.user}:n=e.user;if(n&&(n.user_id===""&&(n.user_id=void 0),n.device_id===""&&(n.device_id=void 0)),!n||!n.user_id&&!n.device_id){v.error("User must specify at least a user_id or device_id"),this._.user=void 0;return}n=this._.services.enrichUser(n),this._.hasBooted&&((r=Z(this._))==null||r.forEach(u=>{u==null||u.send({type:"CLOSE"})})),this._.user=n,e.integrations!=null&&(this._.integrations=[],(o=e.integrations)==null||o.forEach(u=>{this.addIntegration(u)}));try{await this.decide(),v.debug("Decide data fetched successfully")}catch(u){v.error("Failed to fetch decide data",u),(i=G())==null||i.captureException(u)}try{await this._.endUserStore.fetchData(),this._.endUserStore.initializedSuccessfully&&(this._analytics.setBootStatus(!0),this._.hasBooted=!0,e.autoRefreshIntervalSeconds!==void 0&&this.setAutoRefreshInterval(e.autoRefreshIntervalSeconds),(d=this._.nudgesManager)==null||d.send({type:"END_USER_STORE_LOADED"}),v.debug("End user state loaded successfully"))}catch(u){v.error("Failed to fetch end user state",u),(l=G())==null||l.captureException(u)}this.nudgeActions.sendConstantTriggers()}forwardEvent(e){typeof e=="string"&&(e={event_type:e}),v.debug(`Registering event ${e.event_type}`),zn(this._,e.event_type,e.event_properties)}addIntegration(e){this._.integrations.push(e)}setThemeMode(e){["lightMode","darkMode","auto"].includes(e)&&(this._.themeMode=e)}addCallback(e,n){this.globalActions.addCallbacks({[e]:n})}setSessionProperty(e,n){if(!Nn(e)){console.error("Invalid session property key",e);return}if(!Mn(n)){console.error("Invalid session property value",n);return}this.globalActions.setSessionProperties({[e]:n})}registerAction(e,n){var o,i;let r=_t(this._,e);if(!r){v.warn(`registerAction: Guide or survey with variantId: ${e} not found`);return}if(n.type==="show")this.nudgeActions.forceTriggerSingleNudge(r,{source:{type:"sdk"}});else if(n.type==="dismiss")oe(this._,r,0);else if(n.type==="snooze")qn(this._,r,r.snoozeDuration,0);else if(n.type==="ctaClick"){let d=re(this._,e),l=X(this._,e),u=(l==null?void 0:l.currentStep)||0,f=r.steps[u];if(!f){v.error(`registerAction: Step ${u} not found for nudge ${e}`);return}let s=f.content.find(w=>{var h;return w.type==="button"&&((h=w.meta)==null?void 0:h.buttonType)===n.buttonType});if(!s){v.error(`registerAction: No button with type ${n.buttonType} found in step ${u}`);return}n.surveyResponses&&(d==null||d.send({type:"UPDATE_SURVEY_RESPONSE",surveyResponse:n.surveyResponses}));let m=d==null?void 0:d.getSnapshot(),c=(i=(o=m==null?void 0:m.context)==null?void 0:o.surveyResponses)==null?void 0:i[f.id],a=c!=null?c:n.surveyResponses,p=s.meta,b=Dn(this._,f,{buttonMeta:p,surveyResponses:a});Vn(this._,b,p,0,d)}else v.error(`registerAction: Invalid action type "${n.type}". Must be "show", "dismiss", "snooze", or "ctaClick"`)}async _configUser(){var l;(l=G())==null||l.addBreadcrumb({level:"debug",category:"internal",message:"_configUser called"});let{organization:e,nudges:n,flags:r,themes:o,resourceCenters:i}=await ce(this._configuration.apiKey,this._.isEditorPreview);this._.flags=r,this._.themes=o;let[d]=i;d&&(this._.resourceCenter={...this._.resourceCenter,...d}),this.globalActions.setOrganization(e),this.nudgeActions.initNudges(n||[]),this.nudgeActions.setupTimedTriggers([...n])}_updateEditorPreviewDevice(e){this._.editorPreviewDevice=e}_getEditorPreviewDevice(){return this._.editorPreviewDevice}async _reload(e=Ki){let n=await ce(this._configuration.apiKey,this._.isEditorPreview);for(let r of e){let i=this[r];i instanceof Function&&i.call(this,n)}}async _reloadOrganization(e){let{organization:n}=e||await ce(this._configuration.apiKey,this._.isEditorPreview);this.globalActions.setOrganization(n)}async _reloadNudges(e){let{nudges:n}=e||await ce(this._configuration.apiKey,this._.isEditorPreview);this.nudgeActions.initNudges(n||[])}async _reloadThemes(e){let{themes:n}=e||await ce(this._configuration.apiKey,this._.isEditorPreview);this._.themes=n}_startNudgeDebug(e){let{nudge:n}=e;this.nudgeActions.closeAllNudgeMocks(),this.nudgeActions.startDebugSession(n,{refreshDecide:!0,toStepIndex:0})}async _stopNudgeDebug(){this.nudgeActions.stopDebugSession()}_showNudgeStepMock(e){var n;(n=Z(this._))==null||n.forEach(r=>{r==null||r.send({type:"CLOSE"})}),this.nudgeActions.showStepMock(e.nudge,e.stepIndex,{forceOpen:e.forceOpen})}_closeNudgeMocks(){this.nudgeActions.closeAllNudgeMocks()}_setUserProperties(e){if(!this._.user){v.error("User is undefined, likely hasn't been booted yet");return}this._.user.user_properties={...this._.user.user_properties,...e},this._debouncedDecide()}_shareConfig(){return{organization:this._.organization||void 0,nudges:we(this._)}}_shareTrackedEvents(){return{trackedEvents:[...this._.trackedAppEvents]}}_startDebug(){Y.set("debug:nudges","true"),v.log("Enabled debugging for nudges. Restart the application.")}_stopDebug(){Y.remove("debug:nudges"),v.log("Disabled debugging for nudges. Restart the application.")}_showResourceCenter(e,n){this.resourceCenterActions.showResourceCenter(e),(n==null?void 0:n.recSet)!==void 0&&this.resourceCenterActions.previewRecSet(n.recSet),n!=null&&n.resourceCenter&&(n==null?void 0:n.quickLinks)!==void 0&&this.resourceCenterActions.previewResourceCenter(n.resourceCenter,n.quickLinks),(n==null?void 0:n.autopilotKeywords)!==void 0&&this.resourceCenterActions.previewAutopilotKeywords(n.autopilotKeywords),(n==null?void 0:n.contentItemId)!==void 0&&this.resourceCenterActions.previewContentItem(n.contentItemId)}_startChat(e,n){e&&e!=="behavior-settings"&&n&&n.length>0&&this.resourceCenterActions.setCurrentChatSession(e,n,!0),this.resourceCenterActions.setInitialPage({item:{page:"assistant",params:{}}}),this.resourceCenterActions.showResourceCenter(!0)}_shareCurrentChatSession(){return this._.resourceCenter.currentChatSession}async _getDebugSnapshot(e){if(e!=null&&e.variantId){if(typeof e.variantId=="number"){let o=_t(this._,e.variantId);if(o){let i=typeof e.stepIndex=="number"?e.stepIndex:0,d=await Pt(this._,o,i),{name:l}=At(o),u=`${l} debug snapshot: ${d.guideOrSurvey.title} - ${d.guideOrSurvey.variant}`;return console.log(u,d),d}}return}let n=we(this._),r=[];for(let o of n){let i=await Pt(this._,o),{name:d}=At(o),l=`${d} debug snapshot: ${i.guideOrSurvey.title} - ${i.guideOrSurvey.variant}`;console.log(l,i),r.push(i)}return r}_debugStatus(){console.log({user:this._.user,apiKey:this._configuration.apiKey,stateInitialized:this._.endUserStore.initializedSuccessfully,decideSuccessful:this._.decide!=null,num_guides_surveys:we(this._).length,analyticsIntegrations:this._.integrations.length})}_setTheme(e,n){e||(this._.themeOverride=void 0),this._.themeOverride={theme:e,mode:n}}_showWidgetTableau(e,n){this._.widgetTableauSelection=n,this._.showWidgetTableau=e}_addCallback(e,n){this.globalActions.addCallbacks({[e]:n})}_clearNudgeInteractions(e){e?this._.endUserStore.data={nudgeInteractions:{...this._.endUserStore.data.nudgeInteractions,[e]:It()}}:this._.endUserStore.data={nudgeInteractions:Object.fromEntries(Object.keys(this._.endUserStore.data.nudgeInteractions).map(n=>[n,It()]))},this._.endUserStore.pushData()}};g();var no=async(t,e)=>{let n=(l,u)=>{let f=u.split("."),s=l;for(let m of f){if(!(m in s)){v.warn(`Engagement SDK method ${u} is not defined.`);return}s=s[m]}return s},r=async l=>{let u=[...l],f=u.shift(),s=n(t,f);if(s)if(at.includes(f))if(u[0]instanceof Function){let m=u.shift(),c=u.shift();try{await s.bind(t)(...u).then(m,c)}catch(a){v.error(a)}}else await s.bind(t)(...u);else await s.bind(t)(...u)},i=(async l=>{do{let u=e.findIndex(s=>(s==null?void 0:s[0])===l);if(u===-1)break;let f=e.splice(u,1)[0];await r(f)}while(!0)})("boot"),d=[];for(;e.length>0;){let l=e.shift();if(!l)continue;let u=l[0];if(u==="boot"){d.push(l);continue}Qr.includes(u)?(v.debug("Scheduling async call",u),await r(l),v.debug("Finished async call",u)):(v.debug("Scheduling sync call",u),r(l).catch(f=>{throw v.warn(`Error processing queued call for ${u}`,f),f}),v.debug("Finished sync call",u))}return e.length=0,i.then(async()=>{for(let l=0;l<d.length;l++){let u=d[l];await r(u)}}),t};g();var Wi=4,Hi=500,qi=500,ro=t=>{let e,n=0,r=0,o=()=>{let i=Date.now();i-r<=qi&&(n+=1,clearTimeout(e),e=setTimeout(()=>n=0,Hi)),r=i,n>=Wi&&(t.messageBus.publish("rage_click"),n=0,clearTimeout(e))};return document.body.addEventListener("click",o),()=>{document.body.removeEventListener("click",o)}};g();var oo=t=>{let i=0,d=-1,l=-1,u=-1,f,s=m=>{let{clientX:c,clientY:a,timeStamp:p}=m;if(d!==-1&&l!==-1&&u!==-1){let b=Math.abs(c-d),w=Math.abs(a-l);Math.sqrt(b**2+w**2)/(p-u)>5&&p-u<=100&&(i+=1,clearTimeout(f),f=setTimeout(()=>i=0,500)),i>=15&&(t.messageBus.publish("user_confusion"),i=0,clearTimeout(f))}d=c,l=a,u=p};return document.body.addEventListener("mousemove",s),()=>{document.body.removeEventListener("mousemove",s)}};g();var io=L(Sr()),Gi=5e3,ji=6e4,so=t=>{let e=!1,n=()=>{e&&t.messageBus.publish("user_inactive")};setTimeout(()=>e=!0,ji);let r=(0,io.default)(n,Gi);return document.body.addEventListener("mousemove",r),document.body.addEventListener("keydown",r),()=>{document.body.removeEventListener("mousemove",r),document.body.removeEventListener("keydown",r)}};g();var ao="gs-key";var Vi=t=>{switch(t){case"nudge":case"n":default:return"n"}},Yi=(t,e)=>{let r=new URLSearchParams(e).get(t);if(!r)return;let o=Vi(r[0]);if(!o)return;let i="share_modal",d=r[1];return isNaN(parseInt(d))&&d==="t"&&(i="trigger"),{type:o,flagKey:r.slice(1),source:i}},co=t=>{t.messageBus.subscribe("location_change",()=>{var n,r,o;(n=Z(t))==null||n.forEach(i=>{let d=i.getSnapshot(),l=d.context.nudge;d.matches({Step:"Render Loop"})&&Pn(t,l)&&(i==null||i.send({type:"CLOSE"}))});let e=Yi(((r=t.organization)==null?void 0:r.shareLinkParam)||ao,t.location.search);if(e){let i=e.flagKey,d=we(t);if((o=t.nudgesManager)==null||o.send({type:"HANDLE_SHARE_LINK",flagKey:i}),d.find(l=>l.flagKey===i)){let l=new URL(window.location.href);l.searchParams.delete(ao);let u=l.toString();window.history.replaceState({},document.title,u)}}Mt(t,{trigger:{type:"active"},source:{type:"active"},overrides:{cooldown:!0,customThrottles:!0,page:!0}}),Mt(t,{trigger:{type:"immediately"},source:{type:"trigger",properties:{triggerType:"immediately"}}})})};g();var lo=t=>{let e=n=>{let r=n.data.action;if(r)r==="startDebugSession"?t.messageBus.publish("start_debug",{event:n}):r==="startRecorderSession"&&t.messageBus.publish("start_recorder",{event:n});else return};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}};g();g();var uo=L(Sr());var Zi={observerOptions:{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]},debounceMs:150},dt=class{constructor(e,n,r=[],o={}){this.mutationObserver=null;this.processMutationsImmediately=()=>{if(this.mutationObserver)try{this.onMutations()}catch(e){v.error("Error processing mutations:",{error:e})}};this.handleMutations=e=>{try{e.some(r=>this.shouldProcessMutation(r))&&this.processMutationsDebounced()}catch(n){v.error("Error handling mutations:",{error:n,mutationCount:e.length})}};this.target=e,this.onMutations=n,this.filters=r,this.options={...Zi,...o},this.processMutationsDebounced=(0,uo.default)(this.processMutationsImmediately,this.options.debounceMs,{maxWait:this.options.debounceMs*2})}shouldProcessMutation(e){if(this.filters.length===0)return!0;try{return this.filters.every(n=>n(e))}catch(n){return v.error("Error in mutation filter:",{error:n,mutation:e}),!1}}cleanup(){var e;this.processMutationsDebounced.cancel(),(e=this.mutationObserver)==null||e.disconnect(),this.mutationObserver=null}observe(){return this.mutationObserver&&this.cleanup(),this.mutationObserver=new MutationObserver(this.handleMutations),this.mutationObserver.observe(this.target,this.options.observerOptions),()=>{this.cleanup()}}};var Xi=t=>!(ve(t.target)||Array.from(t.addedNodes).some(ve)||Array.from(t.removedNodes).some(ve)),po=t=>new dt(document.documentElement,()=>{t.messageBus.publish("dom_mutation")},[Xi]).observe();g();g();var ee=L(F());var mo=(t,e,n,r={})=>{var u,f,s,m,c;if((s=(f=(u=ae())==null?void 0:u[T])==null?void 0:f.options)!=null&&s.headless)return;let o=(m=r==null?void 0:r.renderMode)!=null?m:0;e=$n(e,t);let i=We(e);if(He(e)){t.activeChecklist={nudge:e,renderMode:o,defaultOpenIdx:o===1?n:void 0};return}if(On(e)){let[a]=e.steps,p=`${e.variantId}-${String(a.id)}${o===1?"-mock":""}`;Ne(p,{asChild:!0,element:ee.default.createElement(br,{forceOpen:r==null?void 0:r.forceOpen,nudge:e,renderMode:o,step:a,anchorOverride:r==null?void 0:r.anchorOverride,handleDestroy:()=>oe(t,e,o),onMarkerView:()=>{if(o===1)return;let b=re(t,e.variantId);Te.nudge.tooltipMarkerViewed(e,n,{...b==null?void 0:b.getSnapshot().context,interactionState:X(t,e.variantId)})},onOpen:()=>{o!==1&&Te.nudge.viewed(e,n,{...r.context,interactionState:X(t,e.variantId)})}})});return}if(Rn(e)){let[a]=e.steps,p=`${e.variantId}-${String(a.id)}${o===1?"-mock":""}`;Rr(p,{element:ee.default.createElement(wr,{nudge:e,stepIndex:n,renderMode:o}),sticky:a==null?void 0:a.formFactor.sticky,position:a==null?void 0:a.formFactor.position});return}let d=J(e,n),l=()=>{i&&oe(t,e,o)};switch(d==null?void 0:d.formFactor.type){case"popover":{let a=`${e.variantId}-${String(d.id)}${o===1?"-mock":""}`,p=d.formFactor.position==="center";Ne(a,{element:ee.default.createElement(Rt,{nudge:e,renderMode:o,stepIndex:n,center:p}),position:d.formFactor.position,duration:Number.POSITIVE_INFINITY,hasWideContent:kt(d),themeProvider:({children:b})=>ee.default.createElement(ye,{nudge:e},b),onEscapeKeyDown:l});break}case"modal":{t.currentModalNudge=_n({nudge:e,stepIndex:n,renderMode:o});break}case"pin":{qe(d)&&Ne(`${e.variantId}-${String(d.id)}${o===1?"-mock":""}`,{element:ee.default.createElement(yr,{nudge:e,step:d,renderMode:o,stepIndex:n,anchorOverride:r==null?void 0:r.anchorOverride}),duration:Number.POSITIVE_INFINITY,themeProvider:({children:a})=>ee.default.createElement(ye,{nudge:e},a),onEscapeKeyDown:l,onEnterKeyDown:()=>Gn(t,e)});break}default:{(c=sn())==null||c.captureMessage(`Unknown form factor type: ${d==null?void 0:d.formFactor}`,"error",{captureContext:{tags:{product:"nudges"}}});let a=d&&kt(d);Ne(`${e.variantId}-${String(d==null?void 0:d.id)}${o===1?"-mock":""}`,{element:ee.default.createElement(Rt,{nudge:e,renderMode:o,stepIndex:n}),position:"top-right",duration:Number.POSITIVE_INFINITY,hasWideContent:a,themeProvider:({children:p})=>ee.default.createElement(ye,{nudge:e},p),onEscapeKeyDown:l})}}};g();var go=(t,e)=>{let n=ar(t);if(!n)return;let r=()=>{e()};return n.addEventListener("click",r),()=>n.removeEventListener("click",r)};g();var fo=(t,e)=>{var n,r;for(let o=0;o<e.steps.length;o++){let i=J(e,o);((n=t.currentModalNudge)==null?void 0:n.renderMode)===1&&(t.currentModalNudge=null),((r=t.activeChecklist)==null?void 0:r.renderMode)===1&&(t.activeChecklist=null),Ot(`${e.variantId}-${String(i==null?void 0:i.id)}-mock`),zt(`${e.variantId}-${String(i==null?void 0:i.id)}-mock`)}},ho=t=>{var e,n;rr(/-mock$/),Br(/-mock$/),((e=t.currentModalNudge)==null?void 0:e.renderMode)===1&&(t.currentModalNudge=null),((n=t.activeChecklist)==null?void 0:n.renderMode)===1&&(t.activeChecklist=null)},bo=(t,e,n)=>{var o;let r=J(e,n);if(He(e)){if(!t.activeChecklist)return;t.activeChecklist=null}else Bn(r)&&((o=t.currentModalNudge)==null?void 0:o.renderMode)!==1?t.currentModalNudge=null:(Ot(`${e.variantId}-${String(r==null?void 0:r.id)}`),zt(`${e.variantId}-${String(r==null?void 0:r.id)}`))};g();var yo=(t,e)=>{vr(t,e)},wo=(t,e)=>{t.resourceCenter.currentContentItemId=e?e.toString():null},vo=(t,e)=>{t.resourceCenter.previewedRecommendationSet=e},So=(t,e,n)=>{t.resourceCenter={...t.resourceCenter,...e,previewedAdditionalResources:n}},xo=(t,e)=>{t.resourceCenter.customAutopilotKeywords=e};g();var Eo=async(t,e)=>{var r,o;let n=()=>{};switch((r=e==null?void 0:e.meta)==null?void 0:r.type){case"intercom":n=()=>window.Intercom("showNewMessage");break;case"helpscout":n=()=>window.Beacon("open");break;case"freshdesk":n=()=>window.FreshworksWidget("open");break;case"freshchat":{n=async()=>window.fcWidget.open();break}case"gist":n=()=>window.gist.chat("open");break;case"crisp":n=()=>{window.$crisp.push(["do","chat:open"]),window.$crisp.push(["do","chat:show"])};break;case"talkdesk_v2":n=()=>{window.webchat.open()};break;case"zendesk":{n=()=>{try{window.zE("messenger","open")}catch(i){window.zE("webWidget","open"),window.zE("webWidget","show")}};break}case"liveChat":n=()=>window.LiveChatWidget.call("maximize");break;case"olark":n=()=>window.olark("api.box.expand");break;case"hubspot":n=()=>window.HubSpotConversations.widget.open();break;case"drift":n=()=>window.drift.api.openChat();break;case"pylon":n=()=>window.Pylon("show")}try{await n()}catch(i){(o=G())==null||o.captureException(i)}},Co=(t,e,n)=>{let r=Un(e.value,t,!0);if(n){window.open(r,"_blank");return}switch(e.operation){case"router":{let o=t.callbacks["engagement-router"];if(o)o(r);else throw new Ln("Link is of router type, but router is not defined.");break}case"self":window.open(r,"_self");break;case"blank":window.open(r,"_blank");break;default:window.open(r,"_blank");break}},Io=(t,e)=>{};var Ji=Ao().UAParser,Qi=()=>typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||"",es=t=>{var e,n;return[(e=t.browser)==null?void 0:e.name,(n=t.browser)==null?void 0:n.major].filter(r=>r!=null).join(" ")},ts=t=>{var e;return(e=t.os)==null?void 0:e.name},ns=t=>{var n;let e=(n=t.browser)==null?void 0:n.name;return e!=null&&e.includes("Chrom")&&(e="Chrome"),e!=null&&e.includes("Firefox")&&(e="Firefox"),e!=null&&e.includes("Safari")&&(e="Safari"),e!=null&&e.includes("Edge")&&(e="Edge"),e!=null&&e.includes("Opera")&&(e="Opera"),e||"Unknown"},rs=()=>{var t;if((t=window==null?void 0:window.document)!=null&&t.cookie)try{return Object.fromEntries(window.document.cookie.split("; ").map(e=>e.split("=")))}catch(e){return}},os=t=>{var e,n;try{let r=JSON.parse(Nt.get(t,"{}"));return r.landing_url||(r.landing_url=(n=(e=window==null?void 0:window.location)==null?void 0:e.href)==null?void 0:n.replace(/\/$/,""),Nt.set(t,JSON.stringify(r))),r.landing_url}catch(r){return}},is=t=>{try{let e=JSON.parse(Y.get(t,"{}"));return e.first_seen||(e.first_seen=(Date.now()/1e3).toString(),Y.set(t,JSON.stringify(e))),e.first_seen}catch(e){return}},ss=()=>{var e;if(!(window!=null&&window.location))return;let t={};try{let n=new URL(window.location.href);for(let[r,o]of n.searchParams)t[r]=[...(e=t[r])!=null?e:[],...o.split(",")]}catch(n){return}return Object.entries(t).reduce((n,[r,o])=>(n[r]=o.length===1?o[0]:o,n),{})},as=t=>{var r,o,i,d,l,u,f;let e=typeof(window==null?void 0:window.navigator)<"u"?window.navigator.userAgent:void 0,n=new Ji(e).getResult();return{language:Qi(),platform:"Web",os:es(n),device_model:ts(n),device_category:(o=(r=n.device)==null?void 0:r.type)!=null?o:"desktop",referring_url:(i=window==null?void 0:window.document)==null?void 0:i.referrer.replace(/\/$/,""),cookie:rs(),browser:ns(n),landing_url:os(`ENGAGEMENT_${(l=(d=window.engagement)==null?void 0:d[T].apiKey)==null?void 0:l.slice(0,10)}_DEFAULT_USER_PROVIDER`),first_seen:is(`ENGAGEMENT_${(f=(u=window.engagement)==null?void 0:u[T].apiKey)==null?void 0:f.slice(0,10)}_DEFAULT_USER_PROVIDER`),url_param:ss(),user_agent:e,...t}},ko={renderNudge:mo,addClickListener:go,clickElement:sr,closeNudgeMock:fo,closeAllNudgeMocks:ho,closeStep:bo,onLocationChange:er,postMessageToDashboard:Ze,openChatExecutable:Eo,linkExecutable:Co,appReviewExecutable:Io,getDefaultUIMode:Jn,isElementVisible:cr,matchesSelector:ir,showResourceCenter:yo,setCurrentContentId:wo,previewRecSet:vo,previewResourceCenter:So,previewAutopilotKeywords:xo,enrichUser:as};g();var Wt=async(t,e)=>{let n=await fetch(t,{...e,body:e.body!=""?e.body:void 0});return{status:n.status,statusText:n.statusText,headers:Object.fromEntries(n.headers.entries()),data:await n.text(),ok:n.ok}};typeof window<"u"?window.simpleFetch=Wt:typeof globalThis<"u"?globalThis.simpleFetch=Wt:typeof window<"u"&&(window.simpleFetch=Wt);g();var cs=t=>{let e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)},ds=t=>{let e=atob(t),n=new TextEncoder().encode(e);return JSON.parse(new TextDecoder().decode(n))};globalThis.base64Encode=cs;globalThis.base64Decode=ds;g();var ls=t=>!t.target||!ve(t.target),_o=t=>{let e=n=>{ls(n)&&t.messageBus.publish("click",{event:{type:n.type,target:n.target,currentTarget:n.currentTarget,preventDefault:()=>n.preventDefault(),stopPropagation:()=>n.stopPropagation()}})};return document.body.addEventListener("click",e),()=>{document.body.removeEventListener("click",e)}};g();var us=30,ps=0,To=t=>{let e=null,n=()=>{t.messageBus.publish("exit_intent")},r=i=>{i.clientY>us||(e=setTimeout(n,ps))},o=()=>{e&&(clearTimeout(e),e=null)};return document.documentElement.addEventListener("mouseleave",r),document.documentElement.addEventListener("mouseenter",o),()=>{document.body.removeEventListener("mouseleave",r),document.body.removeEventListener("mouseenter",o)}};g();var No="gs-debug-id",Mo=t=>{t.messageBus.subscribe("location_change",()=>{let n=new URLSearchParams(t.location.search).get(No);if(n){let r=new URL(window.location.href);r.searchParams.delete(No);let o=r.toString();window.history.replaceState({},document.title,o),Hn(t,{variantId:Number(n)},{toStepIndex:0})}})};var ms=t=>{var r;let e=document.getElementById("engagement-wrapper"),n=document.getElementById("engagement-container");return e||(e=document.createElement("div"),e.setAttribute("id","engagement-wrapper"),e.setAttribute("data-engagement","1"),((r=t?document.getElementById(t):null)!=null?r:document.body).appendChild(e)),n||(n=document.createElement("div"),n.setAttribute("id","engagement-container"),n.setAttribute("data-engagement","1"),e.appendChild(n)),n},gs=t=>{switch(t){case"local":return"http://localhost:10001";case"EU":return"https://gs.eu.amplitude.com";default:return"https://gs.amplitude.com"}},fs=t=>{switch(t){case"local":return"http://localhost:11001";case"EU":return"https://assistant-api.eu.amplitude.com";default:return"https://assistant-api.amplitude.com"}},Ht={local:"http://localhost:10002/index.js",staging:"https://cdn.amplitude.com/engagement-browser/staging/index.min.js.gz",stag:"https://cdn.amplitude.com/engagement-browser/staging/index.min.js.gz",stag2:"https://cdn.amplitude.com/engagement-browser/staging/index.min.js.gz",rc:"https://cdn.amplitude.com/engagement-browser/rc/index.min.js.gz",prod:"https://cdn.amplitude.com/engagement-browser/prod/index.min.js.gz",prodEu:"https://cdn.amplitude.com/engagement-browser/prod-eu/index.min.js.gz"},qt={local:"http://localhost:10002/split/index.js",staging:"https://cdn.amplitude.com/engagement-browser/staging/split/index.js",stag:"https://cdn.amplitude.com/engagement-browser/staging/split/index.js",stag2:"https://cdn.amplitude.com/engagement-browser/staging/split/index.js",rc:"https://cdn.amplitude.com/engagement-browser/rc/split/index.js",prod:"https://cdn.amplitude.com/engagement-browser/prod/split/index.js",prodEu:"https://cdn.amplitude.com/engagement-browser/prod-eu/split/index.js"},Gt={local:"http://localhost:10001",staging:"https://gs.stag2.amplitude.com",stag:"https://gs.stag2.amplitude.com",stag2:"https://gs.stag2.amplitude.com",prod:"https://gs.amplitude.com",prodUs:"https://gs.amplitude.com",prodEu:"https://gs.eu.amplitude.com"},jt={local:"http://localhost:11001",staging:"https://assistant-api.stag2.amplitude.com",stag:"https://assistant-api.stag2.amplitude.com",stag2:"https://assistant-api.stag2.amplitude.com",rc:"https://assistant-api.stag2.amplitude.com",prod:"https://assistant-api.amplitude.com",prodUs:"https://assistant-api.amplitude.com",prodEu:"https://assistant-api.eu.amplitude.com"};function hs(t){let e={};return t.split(";").forEach(r=>{let[o,i]=r.split("=");o&&(e[o]=i)}),e}var Po=async()=>{var p,b,w,h,y,k,U;let t=localStorage.getItem("amplitude.engagement.launchCode");if(t){let x=hs(t),M=document.currentScript||document.getElementById("engagement-sdk-bundle");if(M){let O=window.engagement[T].options.splitting&&(x==null?void 0:x.sdk)!=="local",P=O?qt==null?void 0:qt[x==null?void 0:x.sdk]:Ht==null?void 0:Ht[x==null?void 0:x.sdk];if(P&&M.src!==P){(p=M.parentNode)==null||p.removeChild(M);let W=document.createElement("script");W.src=P,W.id="engagement-sdk-bundle";let te=document.querySelector("[nonce]");te&&W.setAttribute("nonce",te.nonce||te.getAttribute("nonce")),O&&W.setAttribute("type","module"),document.getElementsByTagName("head")[0].appendChild(W);return}}if(x!=null&&x.server){let O=Gt==null?void 0:Gt[x==null?void 0:x.server];O&&(window.engagement[T].serverUrl=O);let P=jt==null?void 0:jt[x==null?void 0:x.server];P&&(window.engagement[T].chatUrl=P)}}if(((b=window.engagement)==null?void 0:b._initStarted)===!0)return;window.engagement&&(window.engagement._initStarted=!0);let e=window.engagement,{apiKey:n,serverUrl:r,chatUrl:o}=e._configuration,i=e[T].serverZone,d=Y.get("takeover","");if(!n)throw new Error("Organization `apiKey` has not been set on the global _configuration object. Make sure you've called `init` before loading this script");let l=e[T].locale,u=Y.get("localeOverride","");u&&(e[T].locale=u),i||(e[T].serverZone="US",i="US"),e[T].serverUrl=r||gs(i),e[T].chatUrl=o||fs(i),e[T].apiKey=n;let f=!!((w=e[T].options)!=null&&w.logger);(h=e[T].options)!=null&&h.logger||(e[T].options.logger=new rn),(y=e[T].options)!=null&&y.logger&&e[T].options.logger.enable((U=(k=e[T].options)==null?void 0:k.logLevel)!=null?U:2),f?v.log("Using custom logger",e[T].options.logger):v.log("Using default logger"),d&&(e[T].apiKey=d),v.log("initializing client SDK..."),tr();let s=document.getElementById("engagement-is-dashboard-preview-pane")!==null,m=document.getElementById("assistant-preview-pane-iframe")!==null,c=Yn({isEditorPreview:s,isAssistantPreview:m,platform:Qn(),location:{href:window.location.href,pathname:window.location.pathname,search:window.location.search},services:ko,persistResourceCenter:e._configuration.options.persistResourceCenter});l&&(c.nudgeDebugToolBar.originalInitLocale=l),Zn(c),e._configuration.options.headless||(ro(c),oo(c),so(c),To(c),po(c),_o(c),co(c),Mo(c)),lo(c);let a=new ct(c,e._configuration);if(a._sentry=on("https://86e449af9e7145de4804c2143988499b@o13027.ingest.us.sentry.io/4508580659462144"),await a._configUser(),a=await no(a,e._q),Object.assign(window.engagement,a),Object.setPrototypeOf(window.engagement,a),e._configuration.options.headless)v.debug("Engagement bundle loaded in headless mode - no UI rendered");else{let x=ms(e._configuration.options.mountElementId);Oo.default.render(Do.default.createElement(Hr,{store:c}),x),v.debug("Engagement bundle loaded and container rendered")}};Ze("ENGAGEMENT_LOADED");window.engagement?Po().catch(console.error):window.engagement=eo(Po);var Ru=void 0;export{Ru as default};
